<!-- Share Button Component -->
<!-- Usage: Include in file actions or context menus -->
<!-- Variables: .ID (resource ID), .Type (file/directory), .Name (resource name), .HasExistingShare (bool) -->

<button type="button"
        class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
        onclick="openShareModal('{{.ID}}', '{{.Type}}', '{{.Name}}')"
        aria-label="Share {{.Name}}">
    <svg class="h-4 w-4 mr-2 {{if .HasExistingShare}}text-green-500{{else}}text-gray-400{{end}}"
         fill="none"
         stroke="currentColor"
         viewBox="0 0 24 24"
         aria-hidden="true">
        <path stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z">
        </path>
    </svg>
    <span>Share</span>
    {{if .HasExistingShare}}
    <span class="ml-1.5 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"
          title="This item has existing shares">
        <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
        </svg>
    </span>
    {{end}}
</button>

<!-- Compact Share Button (for inline use) -->
{{define "share-button-compact"}}
<button type="button"
        class="inline-flex items-center justify-center p-2 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
        onclick="openShareModal('{{.ID}}', '{{.Type}}', '{{.Name}}')"
        aria-label="Share {{.Name}}"
        title="Share">
    <svg class="h-5 w-5 {{if .HasExistingShare}}text-green-500{{end}}"
         fill="none"
         stroke="currentColor"
         viewBox="0 0 24 24">
        <path stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z">
        </path>
    </svg>
    {{if .HasExistingShare}}
    <span class="absolute -top-1 -right-1 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-green-500 rounded-full">
        <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
        </svg>
    </span>
    {{end}}
</button>
{{end}}
